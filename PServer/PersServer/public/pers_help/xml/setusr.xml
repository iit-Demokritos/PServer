<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<root>
    <description>
        Add custom community on PServer
    </description>
    <rt>
        XML/JSON
    </rt>
    <URL>
        1.0/community/:ClientCredentials/cluster/custom/users.xml
    </URL>
    <URL>
        1.0/community/:ClientCredentials/cluster/custom/users.json
    </URL>
    <parameter>
        <name>
            :ClientCredentials
        </name>
        <status>
            required
        </status>
        <paramdesc>
            The client credentials
        </paramdesc>
        <example>
            name|pass
        </example>
    </parameter> 
    <parameter>
        <name>
            name
        </name>
        <status>
            required
        </status>
        <paramdesc>
            The community name
        </paramdesc>
        <example>
            name=testcommunity
        </example>
    </parameter> 
    <parameter>
        <name>
            users
        </name>
        <status>
            required
        </status>
        <paramdesc>
            List with users who belongs
        </paramdesc>
        <example>
            users=[“user1”,”user2”]
        </example>
    </parameter> 
    <ExURL>
       
    </ExURL>
    <ExResponse>

    </ExResponse>
</root>







<html>

    <head>
        <meta http-equiv="Content-Language" content="en-us">
        <meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
        <title>-setusr template</title>
    </head>

    <body bgcolor="#eee">

        <pre>-setusr
template: pers?clnt=&lt;name|pass&gt;&amp;com=setusr&amp;usr=&lt;usr&gt;[&amp;&lt;ftr_pattern_1&gt;=&lt;ftr_value_1&gt;&amp;...][&amp;&lt;attr_pattern_1&gt;=&lt;attr_value_1&gt;&amp;...]
          Order of query params is important: position of 'com'
          is not important, however updates of feature and attribute values
          are performed in the order they appear in the request.
          User name cannot be empty string.
pattern : * | name[.*], where name is a path expression
descript: if the user already exists in the DB, the value(s) of the
          feature(s)/attribute(s) matching the pattern(s) for this user are updated
          to the new value(s). If the user is a new user, the new user
          feature values are initialized into the DB (using the def
          values in 'up_features',attributes tables), and then, the value(s) of
          matching feature(s),attribute(s) will be updated to the new value(s). If
          no feature and attributes matches a pattern no value will be updated (200 OK
          will still be returned). Note that if no (feature pattern, value) or (attribute pattern, value)
          pairs exist in the request, the user profile and user_attributes will still be
          initialized if it is a new user (otherwise nothing will happen,
          200 OK will still be returned). If the error code 401 is returned,
          then no changes have taken place in the DB.
          to specify the table (attributes,up_feature) that the parameters belong we must insert the prefix 
          attr_ or ftr_. If we do not use any prefix PServer set the paremeters to up_feature table
          the prefixes will be removed from the parameter names  
example : pers?clnt=name|pass&amp;com=setusr&amp;usr=kostas&amp;attr_lang.*=0&amp;attr_lang.gr=1&amp;attr_gender=male;ftr_bank=1
returns : 200 OK, 401 (fail, request error), 501 (fail, server error)
200 OK  : no response body exists.</pre>

    </body>

</html>
